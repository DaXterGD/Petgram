"use strict";(self.webpackChunkcurso_platzi_react_avanzado=self.webpackChunkcurso_platzi_react_avanzado||[]).push([[308],{6926:(e,n,t)=>{t.d(n,{a:()=>i});var r=t(7294),a=t(4593),i=function(e){var n=e.children,t=e.title,i=e.description;return r.createElement(r.Fragment,null,r.createElement(a.q,null,t&&r.createElement("title",null,"Petgram ü¶ä | ",t),i&&r.createElement("meta",{name:"description",content:i})),n)}},6423:(e,n,t)=>{t.d(n,{a:()=>c,c:()=>l});var r,a,i=t(168),o=t(8804),c=o.ZP.ul(r||(r=(0,i.Z)(["\n  width: 80%;\n  margin-left: auto;\n  margin-right: auto;\n"]))),l=o.ZP.li(a||(a=(0,i.Z)(["\n  margin-bottom: 1.5rem;\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0px 10px 14px rgba(0, 0, 0, 0.2);\n"])))},7117:(e,n,t)=>{t.d(n,{V:()=>c});var r,a=t(7294),i=t(168),o=t(8804).ZP.h1(r||(r=(0,i.Z)(["\n  width: 80%;\n  margin: 0 auto .5rem;\n"]))),c=function(e){var n=e.content;return a.createElement(o,null,n)}},2859:(e,n,t)=>{t.d(n,{x:()=>z});var r,a,i,o,c,l,d=t(8152),u=t(7294),s=t(5769),m=t(9711),p=t(6974),f=t(1002),g=t(168),v=t(9098),h=t(319),x=(0,v.Ps)(r||(r=(0,g.Z)(["\n  mutation likePhoto($input: LikePhoto!) {\n    likePhoto(input: $input) {\n      id\n      liked\n      likes\n    }\n  }\n"]))),E=t(8804),Z=t(5434),b=t(7974),k=E.ZP.button(a||(a=(0,g.Z)(["\n  padding-top: 8px;\n  display: flex;\n  align-items: center;\n  & svg {\n    margin-right: 4px;\n  }\n"]))),w=(0,E.ZP)(Z.Yqy)(i||(i=(0,g.Z)(["\n  color: #ff277a;\n  ","\n"])),(0,b.J)({time:".2s"})),y=t(5155),P=function(e){var n=e.liked,t=e.likes,r=e.onClick;return u.createElement(k,{onClick:r},n?u.createElement(w,{size:"32px"}):u.createElement(y.Emi,{size:"32px"}),t," likes!")},I=E.ZP.article(o||(o=(0,g.Z)(["\n  min-height: 200px;\n"]))),j=E.ZP.div(c||(c=(0,g.Z)(["\n  width: 100%;\n  height: 0;\n  display: block;\n  position: relative;\n  padding: 56.25% 0 0 0;\n"]))),_=E.ZP.img(l||(l=(0,g.Z)(["\n  ","\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  box-shadow: 0 10px 14px rgba(0, 0, 0, 0.2);\n  object-fit: cover;\n"])),(0,b.J)({time:"0.5s"})),z=function(e){var n=e.id,r=e.liked,a=e.likes,i=void 0===a?0:a,o=e.src,c=void 0===o?"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/65761296352685.5eac4787a4720.jpg":o,l=(0,u.useContext)(s.I).isAuth,g=(0,p.s0)(),v=function(){var e=(0,u.useState)(!1),n=(0,d.Z)(e,2),r=n[0],a=n[1],i=(0,u.useRef)(null);return(0,u.useEffect)((function(){Promise.resolve(void 0!==("undefined"==typeof IntersectionObserver?"undefined":(0,f.Z)(IntersectionObserver))?IntersectionObserver:t.e(337).then(t.t.bind(t,6337,23))).then((function(){var e=new IntersectionObserver((function(n){n[0].isIntersecting&&(a(!0),e.disconnect())}));e.observe(i.current)}))}),[i]),[r,i]}(),E=(0,d.Z)(v,2),Z=E[0],b=E[1],k=function(){var e=(0,h.D)(x),n=(0,d.Z)(e,2),t=n[0],r=n[1];return{mutation:t,mutationLoading:r.loading,mutationError:r.error}}(),w=k.mutation;return u.createElement(I,{ref:b},Z&&u.createElement(u.Fragment,null,u.createElement(m.OL,{to:"/detail/".concat(n)},u.createElement(j,null,u.createElement(_,{src:c}))),u.createElement(P,{liked:r,likes:i,onClick:function(){if(!l)return g("/register");w({variables:{input:{id:n}}})}})))}},6308:(e,n,t)=>{t.r(n),t.d(n,{default:()=>L});var r,a,i,o,c,l,d=t(7294),u=t(6926),s=t(6974),m=t(7117),p=t(7462),f=t(8152),g=t(168),v=t(8804),h=t(9711),x=t(7974),E=(0,v.ZP)(h.OL)(r||(r=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  text-decoration: none;\n  width: 75px;\n"]))),Z=v.ZP.img(a||(a=(0,g.Z)(["\n  ","\n  border: 1px solid #ddd;\n  box-shadow: 0px 10px 14px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  height: auto;\n  overflow: hidden;\n  object-fit: cover;\n  width: 75px;\n  height: 75px;\n"])),(0,x.J)({time:"0.5s"})),b=function(e){var n=e.cover,t=void 0===n?"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/65761296352685.5eac4787a4720.jpg":n,r=e.path,a=e.emoji,i=void 0===a?"?":a,o=e.name;return d.createElement(E,{to:"/pet/".concat(r)},d.createElement(Z,{src:t,alt:o}),i)},k=v.ZP.ul(i||(i=(0,g.Z)(["\n  display: flex;\n  width: 100%;\n  overflow: auto;\n  margin-bottom: 1.5rem;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  ","\n"])),(function(e){return e.fixed&&(0,v.iv)(o||(o=(0,g.Z)(["\n    {\n      ","\n      background: #fff;\n      border-radius: 60px;\n      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n      left: 0;\n      margin: 0 auto;\n      max-width: 400px;\n      padding: 5px;\n      position: fixed;\n      right: 0;\n      top: -20px;\n      transform: scale(0.6);\n      z-index: 10;\n    }\n  "])),(0,x.J)({time:".3s"}))})),w=v.ZP.li(c||(c=(0,g.Z)(["\n  padding: 0 8px;\n"]))),y=function(){var e=function(e){var n=(0,d.useState)([]),t=(0,f.Z)(n,2),r=t[0],a=t[1],i=(0,d.useState)(!1),o=(0,f.Z)(i,2),c=o[0],l=o[1];return(0,d.useEffect)((function(){l(!0),fetch("https://petgram-server-daxter-ivf8j1no5-daxtergd.vercel.app/categories").then((function(e){return e.json()})).then((function(e){a(e),l(!1)}))}),[]),{data:r,loading:c}}(),n=e.data,t=e.loading,r=(0,d.useState)(!1),a=(0,f.Z)(r,2),i=a[0],o=a[1];(0,d.useEffect)((function(){var e=function(e){var n=window.scrollY>200;i!==n&&o(n)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[i]);var c=function(e){return d.createElement(k,{fixed:e},t?d.createElement(w,{key:t},d.createElement(b,{emoji:"Cargando..."})):n.map((function(e){return d.createElement(w,{key:e.id},d.createElement(b,(0,p.Z)({},e,{path:e.id})))})))};return d.createElement(d.Fragment,null,c(),i&&c(!0))},P=d.memo(y),I=t(9098),j=t(1641),_=t(6423),z=t(2859),C=function(e){var n,t,r,a=(n=e.categoryId,t=(0,I.Ps)(l||(l=(0,g.Z)(["\n    query getPhotos($categoryId: ID) {\n      photos(categoryId: $categoryId) {\n        id\n        categoryId\n        src\n        likes\n        userId\n        liked\n      }\n    }\n  "]))),{loading:(r=(0,j.a)(t,{variables:{categoryId:n}})).loading,error:r.error,data:r.data}),i=a.loading,o=a.error,c=a.data;return o?"Error! ".concat(o.message):d.createElement(_.a,null,i?d.createElement(_.c,{key:i},d.createElement(z.x,null)):c.photos.map((function(e){return d.createElement(_.c,{key:e.id},d.createElement(z.x,e))})))},O=function(){var e=(0,s.UO)();return d.createElement(u.a,{title:"Home",description:"Aqu√≠ encontrar√°s fotos de tus mascotas favoritas"},d.createElement(P,null),d.createElement(m.V,{content:"Fotos"}),d.createElement(C,{categoryId:e.id}))};const L=d.memo(O,(function(e,n){return e.categoryId==n.categoryId}))}}]);
//# sourceMappingURL=308.app.bundle.js.map